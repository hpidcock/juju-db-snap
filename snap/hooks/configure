#!/bin/sh -eu

dbpath=$(snapctl get dbpath)
logpath=$(snapctl get logpath)
args=$(snapctl get args)

# Should we actually split out db and logs? I don't think thats needed anymore.
args_file=${SNAP_COMMON}/mongoargs
echo "--dbpath=${dbpath:-"${SNAP_COMMON}/db"}" > ${args_file}
echo "--logpath=${logpath:-"${SNAP_COMMON}/logs/mongo.log"}" >> ${args_file}
echo "${args:-""}" >> ${args_file}

exit 0
